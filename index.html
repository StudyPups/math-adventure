<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>StudyPups — The Adventure Begins</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div id="scene" class="scene scene-1">

    <!-- TEDDY -->
    <img
      src="teddy.png"
      alt="Teddy the StudyPup"
      id="teddy"
      class="teddy run-in"
    />

    <!-- STORY BOX -->
    <div class="story-box">
      <p id="story-text"><strong>I think he wants me to follow him…</strong></p>
      <button id="followBtn" class="primary-btn" type="button">Follow Teddy</button>
    </div>

  </div>

  <script>
    const followBtn = document.getElementById("followBtn");
    const scene = document.getElementById("scene");
    const teddy = document.getElementById("teddy");
    const storyText = document.getElementById("story-text");

    followBtn.addEventListener("click", goToForest);

    function goToForest() {
      // prevent double-clicks
      followBtn.disabled = true;

      // swap background to scene 2
      scene.classList.remove("scene-1");
      scene.classList.add("scene-2");

      // Teddy runs to the forest
      teddy.classList.remove("run-in");
      teddy.classList.add("run-out");

      // Update story text
      storyText.innerHTML = "<strong>Let's see what Teddy found...</strong>";

      // after animation, go to tutorial (or patterns if skipping tutorial)
      setTimeout(() => {
        // Check if they've done the tutorial before
        const tutorialDone = localStorage.getItem('studypups-tutorial-complete');
        if (tutorialDone) {
          window.location.href = "patterns.html";
        } else {
          window.location.href = "tutorial.html";
        }
      }, 1500);
    }
  </script>
</body>
</html>
