<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Welcome to Complexa Meadows - StudyPups</title>
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/mobile.css">
<link rel="stylesheet" href="css/hud.css">
<link rel="stylesheet" href="css/dialogue.css">
<link rel="stylesheet" href="css/puzzle.css">
<link rel="stylesheet" href="css/hint-system.css">
<link rel="stylesheet" href="css/studypup.css">
<link rel="stylesheet" href="css/locations/tutorial.css">


</head>
<body>
  <!-- 
    LAYOUT STRUCTURE (back to front):
    1. Background layer (z-index: 0)
    2. Character layer (z-index: 10) 
    3. Dialogue layer (z-index: 20)
    4. HUD layer (z-index: 30)
  -->
  <div class="game-screen" id="gameScreen">
    
    <!-- LAYER 1: Background -->
    <div class="background-layer" id="backgroundLayer"></div>

    <!-- LAYER 2: Characters -->
    <div class="character-layer" id="characterLayer">
      <!-- Characters inserted dynamically -->
    </div>

    <!-- LAYER 2b: Environmental Elements (vines, rocks, etc) -->
    <div class="environment-layer" id="environmentLayer">
      <!-- Vines for puzzle scenes -->
      <div class="vine-container" id="vineContainer" hidden>
        <img src="assets/images/environmental-elements/vine-dangle.png" alt="vine" class="vine" id="vine1">
        <img src="assets/images/environmental-elements/vine-dangle.png" alt="vine" class="vine" id="vine2">
        <img src="assets/images/environmental-elements/vine-dangle.png" alt="vine" class="vine" id="vine3">
      </div>
    </div>

    <!-- LAYER 2c: Helper Character (for puzzle hints) -->
    <div class="helper-layer" id="helperLayer" hidden>
      <!-- Helper character inserted dynamically -->
    </div>

   <!-- LAYER 3a: PUZZLE BOX (separate from dialogue) -->
    <div class="puzzle-layer" id="puzzleLayer" hidden>
      <div class="puzzle-box" id="puzzleBox"></div>
    </div>

    <!-- LAYER 3b: Level Progress (for multi-step challenges) -->
    <div class="level-progress" id="levelProgress" hidden>
      <span class="progress-dot" data-step="1"></span>
      <span class="progress-dot" data-step="2"></span>
      <span class="progress-dot" data-step="3"></span>
    </div>

    <!-- LAYER 3c: Dialogue Box -->
    <div class="dialogue-layer" id="dialogueLayer">
      <!-- Speaker info (portrait + name) -->
      <div class="speaker-info" id="speakerInfo">
        <img class="speaker-portrait" id="speakerPortrait" src="" alt="" hidden>
        <span class="speaker-name" id="speakerName"></span>
      </div>

      <!-- Main dialogue text -->
      <div class="dialogue-text" id="dialogueText"></div>

      <!-- Text input (for name entry) -->
      <div class="input-box" id="inputBox" hidden></div>

      <!-- Choice buttons -->
      <div class="choices-container" id="choicesContainer"></div>
    </div>

    
      <!-- Choice buttons -->
      <div class="choices-container" id="choicesContainer"></div>
    </div>

    <!-- LAYER 4: HUD (Simplified Organic Design) -->
    <div class="hud-layer">
      <!-- Left side: Menu button -->
      <button class="hud-menu-btn" id="menuBtn" title="Menu">
        <span class="menu-icon">â˜°</span>
      </button>

      <!-- Center: Location/Status -->
      <div class="hud-status" id="hudStatus">
        <span class="hud-location">Whispering Woods</span>
      </div>

      <!-- Right side: Mailbox & Gems -->
      <div class="hud-right">
        <button class="hud-mailbox" id="mailboxBtn" title="Mailbox">
          <span class="mailbox-icon">ğŸ“¬</span>
          <span class="mailbox-badge" id="mailBadge" hidden>!</span>
        </button>
        <div class="gem-display" id="gemDisplay">
          <span class="gem-icon">ğŸ’</span>
          <span class="gem-count" id="gemCount">0</span>
        </div>
      </div>
    </div>

    <!-- Game Menu Overlay -->
    <div class="game-menu-overlay" id="gameMenuOverlay" hidden>
      <div class="game-menu-panel">
        <button class="game-menu-close" id="closeGameMenu">&times;</button>

        <!-- Player Info -->
        <div class="game-menu-header" id="gameMenuHeader">
          <div class="menu-player-avatar">P</div>
          <div class="menu-player-info">
            <div class="menu-player-name">Player</div>
            <div class="menu-player-neighbourhood">P.O. Box</div>
          </div>
        </div>

        <!-- Navigation -->
        <div class="game-menu-section">
          <h3 class="game-menu-heading">Explore</h3>
          <a href="map.html" class="game-menu-item">
            <span class="menu-item-icon">ğŸ—ºï¸</span>
            <span class="menu-item-text">World Map</span>
          </a>
          <a href="home.html" class="game-menu-item">
            <span class="menu-item-icon">ğŸ </span>
            <span class="menu-item-text">My Home</span>
          </a>
          <button class="game-menu-item" id="exploreNeighbourhoodBtn">
            <span class="menu-item-icon">ğŸ˜ï¸</span>
            <span class="menu-item-text">Visit Neighbours</span>
            <span class="menu-item-badge">Coming Soon</span>
          </button>
        </div>

        <!-- Locations -->
        <div class="game-menu-section">
          <h3 class="game-menu-heading">Locations</h3>
          <a href="tutorial.html" class="game-menu-item current">
            <span class="menu-item-icon">ğŸŒ²</span>
            <span class="menu-item-text">Whispering Woods</span>
          </a>
          <a href="farm.html" class="game-menu-item">
            <span class="menu-item-icon">ğŸŒ»</span>
            <span class="menu-item-text">Buttercup's Farm</span>
          </a>
          <div class="game-menu-item locked">
            <span class="menu-item-icon">â˜•</span>
            <span class="menu-item-text">Cozy Cafe</span>
            <span class="menu-item-badge">Locked</span>
          </div>
        </div>

        <!-- Actions -->
        <div class="game-menu-footer">
          <button class="game-menu-btn" id="gameSettingsBtn">
            <span>âš™ï¸</span> Settings
          </button>
          <button class="game-menu-btn" id="switchProfileGameBtn">
            <span>ğŸ‘¤</span> Switch Profile
          </button>
          <a href="index.html" class="game-menu-btn">
            <span>ğŸšª</span> Exit to Title
          </a>
        </div>
      </div>
    </div>

    <!-- Mailbox Modal (Stub) -->
    <div class="mailbox-overlay" id="mailboxOverlay" hidden>
      <div class="mailbox-panel">
        <button class="mailbox-close" id="closeMailbox">&times;</button>
        <h2 class="mailbox-title">ğŸ“¬ Your Mailbox</h2>
        <div class="mailbox-content" id="mailboxContent">
          <div class="mailbox-empty">
            <span class="mailbox-empty-icon">ğŸ“­</span>
            <p>No new mail!</p>
            <p class="mailbox-hint">Messages from friends, teachers, and game characters will appear here.</p>
          </div>
        </div>
      </div>
    </div>

  </div>

<script type="module" src="js/locations/tutorial.js"></script>
</body>
</html>